.TH IMAGEX 1 "November 2012" "imagex (wimlib @VERSION@)" "User Commands"
.SH NAME
imagex \- Create, modify, extract, mount, or unmount a WIM (Windows Imaging Format) archive
.SH SYNOPSIS
\fBimagex append\fR \fIarguments...\fR
.br
\fBimagex apply\fR \fIarguments...\fR
.br
\fBimagex capture\fR \fIarguments...\fR
.br
\fBimagex delete\fR \fIarguments...\fR
.br
\fBimagex dir\fR \fIarguments...\fR
.br
\fBimagex export\fR \fIarguments...\fR
.br
\fBimagex info\fR \fIarguments...\fR
.br
\fBimagex join\fR \fIarguments...\fR
.br
\fBimagex mount\fR \fIarguments...\fR
.br
\fBimagex mountrw\fR \fIarguments...\fR
.br
\fBimagex optimize\fR \fIarguments...\fR
.br
\fBimagex split\fR \fIarguments...\fR
.br
\fBimagex unmount\fR \fIarguments...\fR

.SH DESCRIPTION
\fBimagex\fR is able to deal with archives in the Windows Imaging Format (.wim
files). Its interface is meant to be similar to Microsoft's imagex.exe program.

To do its work, \fBimagex\fR uses \fBwimlib\fR, a library which provides
interfaces for manipulating WIM archives.  You could wimlib in your own programs
if you wanted to.  wimlib's public interface is documented.

See \fBWARNING\fR.

.SH COMMANDS

There is a separate manual page for each \fBimagex\fR command.

.SH SUPPORTED FEATURES

The following features are currently supported:

.IP \[bu] 3
Create a stand-alone WIM from a directory or NTFS volume (\fBimagex capture\fR)
.IP \[bu]
Append a directory or NTFS volume onto a stand-alone WIM as a new image (\fBimagex
append\fR)
.IP \[bu]
Apply an image from a stand-alone or split WIM to a directory or NTFS volume
(\fBimagex apply\fR)
.IP \[bu]
Mount an image from a stand-alone or split WIM read-only (\fBimagex mount\fR)
.IP \[bu]
Mount an image from a stand-alone WIM read-write (\fBimagex mountrw\fR)
.IP \[bu]
Delete image(s) from a stand-alone WIM (\fBimagex delete\fR)
.IP \[bu]
Export image(s) from a stand-alone or split WIM (\fBimagex export\fR)
.IP \[bu]
Display information about a WIM file (\fBimagex info\fR, \fBimagex dir\fR)
.IP \[bu]
Change the name or description of an image in the WIM (\fBimagex info\fR)
.IP \[bu]
Change which image in a WIM is bootable (\fBimagex info\fR)
.IP \[bu]
Combine split WIMs into one stand-alone WIM (\fBimage join\fR)
.IP \[bu]
Split a stand-alone WIM into multiple parts (\fBimage split\fR)
.IP \[bu]
Support for all WIM compression types, both compression and decompression (LZX,
XPRESS, and none)
.IP \[bu]
WIM integrity table is supported (\fB--check\fR option to many commands)
.IP \[bu]
WIM XML data (parsed and written using \fBlibxml\fR(3))

.SH UNSUPPORTED FEATURES

As of version 1.0.0, wimlib supports capturing and applying WIMs directly from
NTFS and has much improved support for hard links and symbolic links.  In
addition, you may now apply split WIMs and mount them read-only.  I don't think
there are many other features that would be worth it to implement.  Besides
porting the library to Windows (which I'm not really interested in), the main
thing that could use improvement (in my opinion) is that the LZX compression
ratio still isn't quite as good as Microsoft's version.  Furthermore, if
Microsoft updates the WIM format, I'd need to support it, but it looks like the
format for Windows 8 is the same as that of Windows 7.

.SH DIFFERENCES FROM MICROSOFT IMAGEX

While similar to Microsoft's "imagex.exe" program, this program is designed for
UNIX-based systems and by the nature of the platform cannot be exactly the same
as Microsoft's version.

In particular, because Microsoft designed the WIM file format to accomodate
Windows-specific and NTFS-specific features, we must have two separate image
capture and application modes (although the \fBimagex\fR subcommands for the
modes are the same): one for general image capture and application, and one for
the capture or application of an image specifically from/to an NTFS volume.

Some features, such as the ability to keep files hard-linked across WIM images
when they are extracted from a WIM, are not available in Microsoft's version of
imagex.  Also, this version of \fBimagex\fR lets you mount an image from a split
WIM read-only, while Microsoft's version does not.

Microsoft's version has some weird limitations, like it won't let you extract a
WIM on a shared folder, and it requires some commands to be run only from
Windows PE and not from regular Windows.  This version does not have these
unusual limitations, although it won't actually run on Windows anyway.

There are bugs in Microsoft's WIM library and I obviously have not included
these bugs in my version; however it's to be expected that despite that fact, my
version has more bugs because it's been less widely tested and used.

Obviously, this version of imagex is free software but Microsoft's version is
not.

.SH WARNING

Note: \fBwimlib\fR and \fBimagex\fR are experimental.  Use Microsoft's
imagex.exe if you have to make sure your WIM files are made "correctly".  Not
all features listed under \fBSUPPORTED FEATURES\fR have been thoroughly tested.
Feel free to submit a bug report if you find a bug.

Some parts of the WIM file format are poorly documented or even completely
undocumented, so I've just had to do the best I can to read and write WIMs in a
way that appears to be compatible with Microsoft's software.

.SH REPORTING BUGS

Report bugs to ebiggers3@gmail.com.

.SH SEE ALSO
.BR imagex-append (1),
.BR imagex-apply (1),
.BR imagex-capture (1),
.BR imagex-delete (1),
.BR imagex-dir (1),
.BR imagex-export (1),
.BR imagex-info (1),
.BR imagex-join (1),
.BR imagex-mount (1),
.BR imagex-mountrw (1),
.BR imagex-optimize (1),
.BR imagex-split (1),
.BR imagex-unmount (1),

