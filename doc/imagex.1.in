.TH IMAGEX 1 "September 2012" "imagex (wimlib @VERSION@)" "User Commands"
.SH NAME
imagex \- Create, modify, extract, mount, or unmount a WIM (Windows Imaging Format) archive
.SH SYNOPSIS
\fBimagex append\fR \fIarguments...\fR
.br
\fBimagex apply\fR \fIarguments...\fR
.br
\fBimagex capture\fR \fIarguments...\fR
.br
\fBimagex delete\fR \fIarguments...\fR
.br
\fBimagex dir\fR \fIarguments...\fR
.br
\fBimagex export\fR \fIarguments...\fR
.br
\fBimagex info\fR \fIarguments...\fR
.br
\fBimagex join\fR \fIarguments...\fR
.br
\fBimagex mount\fR \fIarguments...\fR
.br
\fBimagex mountrw\fR \fIarguments...\fR
.br
\fBimagex split\fR \fIarguments...\fR
.br
\fBimagex unmount\fR \fIarguments...\fR

.SH DESCRIPTION
\fBimagex\fR is able to deal with archives in the Windows Imaging Format (.wim
files). Its interface is meant to be similar to Microsoft's imagex.exe program.

To do its work, \fBimagex\fR uses \fBwimlib\fR, a library which provides
interfaces for manipulating WIM archives.  You could wimlib in your own programs
if you wanted to.  wimlib's public interface is documented.

See \fBWARNING\fR.

.SH COMMANDS

There is a separate manual page for each \fBimagex\fR command.

.SH SUPPORTED FEATURES

The following features are currently supported:

.IP \[bu] 2
Mount an image in a WIM read-only (\fBimagex mount\fR)
.IP \[bu] 2
Mount an image in a WIM read-write (\fBimagex mountrw\fR)
.IP \[bu] 2
Create a WIM from a directory or NTFS volume (\fBimagex capture\fR)
.IP \[bu] 2
Append a directory or NTFS volume onto a WIM as a new image (\fBimagex
append\fR)
.IP \[bu] 2
Delete image(s) from a WIM (\fBimagex delete\fR)
.IP \[bu] 2
Export image(s) from a WIM (\fBimagex export\fR)
.IP \[bu] 2
Display information about a WIM file (\fBimagex info\fR, \fBimagex dir\fR)
.IP \[bu] 2
Change the name or description of an image in the WIM (\fBimagex info\fR)
.IP \[bu] 2
Change which image in a WIM is bootable (\fBimagex info\fR)
.IP \[bu] 2
Combine split WIMs into one WIM (\fBimage join\fR)
.IP \[bu] 2
Split a WIM into multiple parts (\fBimage split\fR)
.IP \[bu] 2
Support for all WIM compression types, both compression and decompression (LZX,
XPRESS, and none)
.IP \[bu] 2
Integrity table
.IP \[bu] 2
XML data (parsed and written using \fBlibxml\fR(3))

.SH UNSUPPORTED FEATURES

As of version 1.0.0, wimlib supports capturing and applying WIMs directly from
NTFS and has much improved support for hard links and symbolic links.  I don't
think there are many other features that would be worth it to implement; the
only significant thing missing (in my opinion) is that split WIMs need to be
handled better (e.g. it should be possible to apply a split WIM using \fBimagex
apply\fR).  And if Microsoft updates the WIM format, I'd need to support it, but
it looks like the format for Windows 8 is the same as that of Windows 7.

.SH DIFFERENCES FROM MICROSOFT IMAGEX

While similar to Microsoft's "imagex.exe" program, this program is designed for
UNIX-based systems and by the nature of the platform cannot be exactly the same
as Microsoft's version.

In particular, because Microsoft designed the WIM file format to accomodate
Windows-specific and NTFS-specific features, we must have two separate image
capture and application modes (although the \fBimagex\fR subcommands for the
modes are the same): one for general image capture and application, and one for
the capture or application of an image specifically from/to an NTFS volume.

Some features, such as the ability to keep files hard-linked across WIM images
when they are extracted from a WIM, are not available in Microsoft's version of
imagex.  Also, doesn't seem to be an equivalent of \fBimagex join\fR in
Microsoft's version; you would have to use \fBimagex.exe /export\fR, but that
doesn't let you export all images at once.

Microsoft's version has some weird limitations, like it won't let you extract a
WIM on a shared folder, and it requires some commands to be run only from
Windows PE and not from regular Windows.  This version does not have these
unusual limitations, although it won't actually run on Windows anyway.

There are bugs in Microsoft's WIM library and I obviously have not included
these bugs in my version; however it's to be expected that despite that fact, my
version has more bugs because it's been less widely tested and used.

Obviously, this version of imagex is free software but Microsoft's version is
not.

.SH WARNING

Note: \fBwimlib\fR and \fBimagex\fR are experimental.  Use Microsoft's
imagex.exe if you have to make sure your WIM files are made "correctly".  Not
all features listed under \fBSUPPORTED FEATURES\fR have been thoroughly tested.
Feel free to submit a bug report if you find a bug.

Some parts of the WIM file format are poorly documented or even completely
undocumented, so I've just had to do the best I can to read and write WIMs in a
way that appears to be compatible with Microsoft's software.

.SH REPORTING BUGS

Report bugs to ebiggers3@gmail.com.

.SH SEE ALSO
.BR imagex-append (1),
.BR imagex-apply (1),
.BR imagex-capture (1),
.BR imagex-delete (1),
.BR imagex-dir (1),
.BR imagex-export (1),
.BR imagex-info (1),
.BR imagex-join (1),
.BR imagex-mount (1),
.BR imagex-mountrw (1),
.BR imagex-split (1),
.BR imagex-unmount (1),

